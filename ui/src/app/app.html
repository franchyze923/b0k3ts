<mat-sidenav-container class="app-shell">
  @if (authenticated()) {
    <mat-sidenav class="app-sidenav" mode="side" opened>
      <div class="sidenav-header">
        <div class="brand">b0k3ts</div>
        <div class="brand-sub">Bucket tools</div>
      </div>

      <mat-nav-list>
        <a mat-list-item routerLink="/object-manager" routerLinkActive="active">
          <mat-icon matListItemIcon>folder</mat-icon>
          <span matListItemTitle>Object Manager</span>
        </a>

        <!-- ... existing code ... -->

        <a mat-list-item routerLink="/settings" routerLinkActive="active">
          <mat-icon matListItemIcon>settings</mat-icon>
          <span matListItemTitle>Settings</span>
        </a>

        @if (isSettingsSectionOpen()) {
          <div class="sidenav-subsection">
            <a mat-list-item routerLink="/settings/buckets" routerLinkActive="active">
              <mat-icon matListItemIcon>storage</mat-icon>
              <span matListItemTitle>Bucket Connections</span>
            </a>

            <a mat-list-item routerLink="/settings/oidc" routerLinkActive="active">
              <mat-icon matListItemIcon>vpn_key</mat-icon>
              <span matListItemTitle>OIDC</span>
            </a>
          </div>
        }
      </mat-nav-list>
    </mat-sidenav>
  }

  <mat-sidenav-content>
    <mat-toolbar color="primary" class="topbar">
      <span class="page-title">{{ globalService.currentTitle | async }}</span>

      <span class="spacer"></span>

      <button mat-button type="button" (click)="toggleTheme()">
        <mat-icon aria-hidden="true">brightness_6</mat-icon>
        <span>{{ theme.theme() === 'dark' ? 'Light mode' : 'Dark mode' }}</span>
      </button>
    </mat-toolbar>

    <main class="content">
      <router-outlet />
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
